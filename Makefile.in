#
# Makefile --
#
# Top-level makefile for the Visualization Toolkit
# 
#------------------------------------------------------------------------------
#
SHELL=/bin/sh

#------------------------------------------------------------------------------
# Autoconfig defines that can be overridden in Config.mk

srcdir            = @srcdir@
VPATH             = @srcdir@
prefix            = @prefix@
exec_prefix       = @exec_prefix@
BUILD_TCL         = @BUILD_TCL@
CLEAN_TCL         = @CLEAN_TCL@
BUILD_GRAPHICS    = @BUILD_GRAPHICS@
CLEAN_GRAPHICS    = @CLEAN_GRAPHICS@
BUILD_IMAGING     = @BUILD_IMAGING@
CLEAN_IMAGING     = @CLEAN_IMAGING@

#------------------------------------------------------------------------------
# Include user-editable defines.

@MAKEINCLUDE@ @MAKEQUOTE@Config.mk@MAKEQUOTE@

#------------------------------------------------------------------------------

all: ${BUILD_TCL} build_common \
	${BUILD_GRAPHICS} ${BUILD_IMAGING} \
	${BUILD_TCL}${BUILD_TCL}

build_common:
	cd common;     ${MAKE} -${MAKEFLAGS} all

build_graphics:
	cd graphics;   ${MAKE} -${MAKEFLAGS} all

build_imaging:
	cd imaging;    ${MAKE} -${MAKEFLAGS} all

build_tcl:
	cd tcl;        ${MAKE} -${MAKEFLAGS} all

# tcl part2
build_tclbuild_tcl:
	cd tcl;        ${MAKE} -${MAKEFLAGS} vtk

#------------------------------------------------------------------------------
# Clean up all files that were built by make.

clean: ${CLEAN_TCL} ${CLEAN_GRAPHICS} ${CLEAN_IMAGING}
	cd common;    ${MAKE} -${MAKEFLAGS} clean
	rm -f config.cache

clean_tcl:
	cd tcl;       ${MAKE} -${MAKEFLAGS} clean

clean_graphics:
	cd graphics;  ${MAKE} -${MAKEFLAGS} clean

clean_imaging:
	cd imaging;   ${MAKE} -${MAKEFLAGS} clean

