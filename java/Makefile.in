#
# vtk library makefile
#

#
# Makefile for Visualization Toolkit sources. 
# 
#------------------------------------------------------------------------------
#

SHELL = /bin/sh
.SUFFIXES: .cxx

#------------------------------------------------------------------------------
# Autoconfig defines that can be overridden in Config.mk

CC            = @CC@
CFLAGS        = @CFLAGS@
CXX           = @CXX@
CXXFLAGS      = @CXXFLAGS@
XCFLAGS       = @X_CFLAGS@
XLIBS         = @X_LIBS@
RANLIB        = @RANLIB@
srcdir        = @srcdir@
VPATH         = @srcdir@
prefix        = @prefix@
exec_prefix   = @exec_prefix@
WORDS_BIGENDIAN   = @BIGENDIAN@
LEX 	      = @LEX@
LEXLIB        = @LEXLIB@
YACC          = @YACC@

#------------------------------------------------------------------------------
# Include user-editable defines.

@MAKEINCLUDE@ @MAKEQUOTE@../Config.mk@MAKEQUOTE@

C_FLAGS = ${CPPFLAGS} ${XCFLAGS} ${CFLAGS} -I${srcdir} 

all:  java_parse java_wrap

java_parse: $(srcdir)/java_parse.y $(srcdir)/concrete.l
	$(LEX) $(srcdir)/concrete.l
	$(YACC) -b java_parse $(srcdir)/java_parse.y 
	$(CC) $(C_FLAGS) -I. -o java_parse java_parse.tab.c -lm

java_wrap: $(srcdir)/java_wrap.y $(srcdir)/concrete.l
	$(LEX) $(srcdir)/concrete.l
	$(YACC) -b java_wrap $(srcdir)/java_wrap.y 
	$(CC) $(C_FLAGS) -I. -o java_wrap java_wrap.tab.c -lm


#------------------------------------------------------------------------------
clean: 
	-rm -f *.o *.a java_parse java_wrap Makefile


