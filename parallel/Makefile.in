#
# vtk library makefile
#
# NOTE !!! when adding a class, it must be added in one location.
# Place it in the correct list based on whether it is only a .h file
# and whether it is abstract or concrete.
#
ME = Parallel

srcdir        = @srcdir@
VPATH         = @srcdir@

MPI_OBJ = \
vtkMPICommunicator \
vtkMPIController \
vtkMPIGroup 

ABSTRACT_H = 

CONCRETE_H = 

ABSTRACT = \
vtkCommunicator 

CONCRETE = \
vtkCutMaterial \
vtkExtractPolyDataPiece \
vtkExtractUnstructuredGridPiece \
vtkGetRemoteGhostCells \
vtkImageComposite \
vtkInputPort \
vtkMemoryLimitImageDataStreamer \
vtkMultiProcessController \
vtkOutputPort \
vtkParallelFactory \
vtkPieceScalars \
vtkPipelineSize \
vtkPImageWriter \
vtkPPolyDataNormals \
vtkPSphereSource \
vtkRTAnalyticSource \
vtkSharedMemoryCommunicator \
vtkThreadedController \
vtkTreeComposite \
vtkRemoveGhostCells \
${CONTROLLER_API_OBJ}



#------------------------------------------------------------------------------
# Autoconfig defines that can be overridden in user.make

@MAKEINCLUDE@ @MAKEQUOTE@../system.make@MAKEQUOTE@

#------------------------------------------------------------------------------
# Include user-editable defines.

@MAKEINCLUDE@ @MAKEQUOTE@../user.make@MAKEQUOTE@

#------------------------------------------------------------------------------
# Include the generated targets

@MAKEINCLUDE@ @MAKEQUOTE@targets.make@MAKEQUOTE@

# add in any extra libraies here
KIT_EXTERNAL_LIBS = ${MPI_LIBS}

# standard stuff here
KIT_OBJ = ${SRC_OBJ}
KIT_TCL_OBJ = ${TCL_OBJ}
KIT_NEWS = ${TCL_NEWS}
KIT_FLAGS = 
PYTHON_LIBS = -lVTK${ME} -L../graphics -lVTKGraphicsPython -L../imaging -lVTKImagingPython -L../common -lVTKCommonPython ${XLIBS} ${GRAPHICS_API_LIBS} 


VTK_LIB_FILE  = libVTK${ME}${VTK_LIB_EXT}
TCL_LIB_FILE  = libVTK${ME}Tcl${VTK_LIB_EXT}
PYTHON_LIB_FILE = libVTK${ME}Python${VTK_LIB_EXT}

#------------------------------------------------------------------------------
PLDLIBS =  \
	${USE_PARALLEL_LIBS}	\
	${USE_LOCAL_LIBS}	\
	${USE_CONTRIB_LIBS}	\
	${USE_PATENTED_LIBS}	\
	${USE_IMAGING_LIBS}	\
	${USE_GRAPHICS_LIBS}	\
        -L../common -lVTKCommonTcl -lVTKCommon \
	${XLIBS} ${GRAPHICS_API_LIBS}  \
	${TK_LIB} ${TCL_LIB} ${DL_LIBS} \
	${THREAD_LIBS} ${CONTROLLER_API_LIBS}


PCXX_FLAGS = ${USER_CXXFLAGS} ${CPPFLAGS} ${CXXFLAGS} -I${srcdir} \
	-I${srcdir}/../common -I../common ${TK_INCLUDE} ${TCL_INCLUDE} \
	${GRAPHICS_API_FLAGS} \
	${USE_TOOLKIT_FLAGS} ${CONTROLLER_API_FLAGS}


tkAppInit.o: tkAppInit.cxx Makefile
	$(CXX) $(PCXX_FLAGS) -c -o tkAppInit.o $(srcdir)/tkAppInit.cxx


#------------------------------------------------------------------------------
# build the vtk executable
#
pvtk: 	@BUILD_PVTK@

build_pvtk: Makefile tkAppInit.o ${TOOLKIT_DEPENDS} 
	$(CXX)	 -o pvtk tkAppInit.o \
	-L. ${PCXX_FLAGS} ${VTK_SHLIB_LINK_FLAGS} ${XLDFLAGS} ${PLDLIBS} \
	${XLIBS} -lXext -lXt ${X_PRE_LIBS} -lX11 ${X_EXTRA_LIBS} -lm

#------------------------------------------------------------------------------
# Include the generic stuff here

@MAKEINCLUDE@ @MAKEQUOTE@@srcdir@/../Kits.make@MAKEQUOTE@


